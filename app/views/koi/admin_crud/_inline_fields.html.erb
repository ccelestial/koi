<div class="nested-fields">
  <div class="nested-fields__heading <%= "nested-fields-visible" unless f.object.errors.blank? %>" data-inline-nested-field-heading>
    <%- if is_orderable -%>
      <span class="drag-handler hidden">
        [Drag]
      </span>
    <%- end -%>
    <span class="title nested-fields__heading--title">
      <%= (f.object.respond_to?(:inline_titleize) && !f.object.inline_titleize.blank?) ? f.object.inline_titleize : singular_name_humanized %>
    </span>
    <span class="close-link">
      <%= link_to_remove_association "Delete", f, data: { confirm: "Are you sure? Will only be removed after save. " } -%>
    </span>
    <span class="nested-fields__status collapser">
      <%= icon("chevron") -%>
    </span>
  </div>
  <div class="nested-inline-fields inputs <%= "hidden" if f.object.errors.blank? %>">
    <%= f.input :ordinal, as: :hidden, wrapper_html: { class: "inline-ordinal-wrapper" }, input_html: { class: "inline-ordinal" } if is_orderable %>
    <%= render "form_fields", f: f %>
  </div>
</div>
